# Итоговый проект

## 1. Описание проекта

Пприложение представляет собой тестовую систему, в которой пользователю предлагается пройти тест по разным темам английского языка (например, личные местоимения). В теме может быть несколько вопросов с вариантами ответов. Приложение поддерживает CRUD-операции с тестами (только для администратора), запуск тестирования, сохранение прогресса по тестам, механизм импорта тестов из JSON-файла и механизм экспорта тестов в CSV-файл.

## 2. Используемые зависимости

В проекте используются jackson для работы с JSON-файлами и h2 для работы с БД (Все библиотеки представлены в папке libs).

## 3. Запуск программы

Для корректного запуска программы следуюет выполнить следующие действия:

- Распаковать скачанный репозиторий в папку с названием "EnglishTestingSystem", созданную на рабочем столе.
- Открыть коммандную строку и ввести следующую комманду **cd C:\Users\*\Desktop\EnglishTestingSystem\libs** , заменив * на имя пользователя вашей системы.
- Ввести комманду: **java -cp h2-2.1.214.jar org.h2.tools.Server** для запуска сервера.
- Запустить проект в IntelliJ IDEA.
- Проверить, чтобы библиотеки из libs были добавлены в File -> Project Structure... -> Libraries (Если они отсутствуют, то добавить путь до папки **C:\Users\*\Desktop\EnglishTestingSystem\libs**, заменив * на имя пользователя вашей системы).
- Запустить TestingSystem.java в IntelliJ IDEA и продолжать работу в консоли.

## 4. Функционал приложения

При запуске программы пользователя просят ввести свой логин: 

![1](https://user-images.githubusercontent.com/77012251/235612451-4390bce1-eb0b-403e-a1fc-d90e751b7177.PNG)

Расcмотриv 3 варианта событий:

### 1. Пользователя не существует в системе.

Пользователь будет создан и попадёт в меню основного взаимодействия с обычным пользователем:

![2](https://user-images.githubusercontent.com/77012251/235612759-2054b61e-1f35-42e5-b2b5-63e70798cb7c.PNG)

### 2. Пользователь с введённым логином существует в системе, но не является администратором.

Пользователь попадёт в меню основного взаимодействия с обычным пользователем:

![3](https://user-images.githubusercontent.com/77012251/235612783-eb86dca0-02d4-4e4d-8bdd-f985e3d0a997.PNG)

### 2. Пользователь с введённым логином существует в системе и является администратором (при введённом логине admin).

Администратор попадёт в меню основного взаимодействия с администратором:

![4](https://user-images.githubusercontent.com/77012251/235612798-8ced8191-b4d6-4e4e-a0aa-9d02d89f37e4.PNG)

---

Рассмотрим меню основного взаимодействия с обычным пользователем:

- При выборе "1" новым пользователем, либо пользователем, который ещё не проходил тесты, в консоль выведется информация об отсутсвии результатов и пользователь вернётся к меню основного взаимодействия с обычным пользователем.

![image](https://user-images.githubusercontent.com/77012251/235613568-5c3a1d80-6bb4-4bd7-ae6d-eb564a103549.png)

- При выборе "1" пользователем, который уже проходил тестирование, в консоль выведутся все его результаты (тема теста, количество правильных ответов и время прохождения) и пользователь вернётся к меню основного взаимодействия с обычным пользователем.

![image](https://user-images.githubusercontent.com/77012251/235614320-17e50141-dc79-4c48-801c-3c07bae3f74a.png)

- При выборе "3" любым пользователм программа завершит свою работу.

![image](https://user-images.githubusercontent.com/77012251/235614587-d2abddad-9ced-4c3c-af89-8e8d61b4cf01.png)

- При выборе "2" запустится режим тестирования.

![image](https://user-images.githubusercontent.com/77012251/235617645-a5cfe8dc-3f7f-43fe-a9a7-626100b89254.png)

---

## Режим тестирования

- При запуске режима тестирования обычным пользователем или администратором в консоль выводятся все доступные темы с их идентификатором.

![image](https://user-images.githubusercontent.com/77012251/235617654-42e1d636-5572-49b3-aecf-6b0995ffb01c.png)

- Рассмотрим работу с темой "Личные местоимения в английском языке" под номером "1". Работа с остальными темами будет аналогична.
При выборе темы пользователю демонстрируется предложение с одним или несколькими пропущенными словами. Ниже перечислены возможные ответы.

![image](https://user-images.githubusercontent.com/77012251/235617712-b1423f75-4606-4b26-acf2-05494cd6d1bf.png)

- При вводе неверного ответа открывается меню взаимодействия с пользователем после неверного ответа:

![image](https://user-images.githubusercontent.com/77012251/235617800-3166019d-7d58-44bf-acfc-efa9fefa47f9.png)

- При выборе "2" вопрос выводится ещё раз.

![image](https://user-images.githubusercontent.com/77012251/235617875-bbd04d6f-749b-4a81-b4ce-4acf342bac0d.png)

- При выборе "1" выводится следующий вопрос. При правильном ответе открывается меню взаимодействия с пользователем после верного ответа:

![image](https://user-images.githubusercontent.com/77012251/235617987-40c0d1e5-0a44-4935-88c9-cffda971aba9.png)

- При выборе "1" в меню взаимодействия с пользователем после верного ответа выводится следующий вопрос до тех пор, пока в теме не кончатся вопросе. После окончания вопросов пользователю вновь выводятся темы тестирования.

![image](https://user-images.githubusercontent.com/77012251/235618628-5f90c358-ed86-4c0a-bdbf-895b89d8756f.png)

- При выборе "3" в меню взаимодействия с пользователем после неверного ответа и "2" в меню взаимодействия с пользователем после верного ответа пользователю предлагается окончить тестирование или выбрать другую тему. И пользователь возвращается в одно из расмотренных раннее меню.

![image](https://user-images.githubusercontent.com/77012251/235620454-1265f09a-d5e6-4540-ae0b-30eb6bc0a6fc.png)
![image](https://user-images.githubusercontent.com/77012251/235620538-71581809-3bfc-4928-87d8-aeee49860051.png)
![image](https://user-images.githubusercontent.com/77012251/235620630-1558df32-22c8-436b-800f-6dace312cb20.png)

---

## Основное меню администратора

![image](https://user-images.githubusercontent.com/77012251/235621157-7ca08f72-0d74-4da8-b9e0-0a118a6e79b5.png)

- При выборе "1" администратор перейдёт в режим тестирования, который был рассмотрен раннее. При выборе "5" программа завершит свою работу.

- При выборе "4" администратору необходимо ввести абсолютный путь до JSON-файла. Все данные из него будут импортированы в БД. Пример заполенного JSON-файла расположен в репозитории по пути JavaFinalProject/exampleJSONandCSV/test.json. После импортирования администратор вернётся к основному меню администратора.

![image](https://user-images.githubusercontent.com/77012251/235622222-b0045e39-2cf1-42d1-a052-a1ae3893e1f6.png)

- При выборе "3" администратору необходимо ввести таблицу для экспорта и абсолютный путь до CSV-файла. Все данные из таблицы будут экспортированы в CSV-файла. Примеры заполенных CSV-файлов answers.csv, questions.csv, tests.csv расположены в репозитории по пути JavaFinalProject/exampleJSONandCSV/. После импортирования администратор вернётся к основному меню администратора. При вводе неправильного названия таблицы, пользователя попросят ввести название ещё раз.

![image](https://user-images.githubusercontent.com/77012251/235622887-d52d94e7-2230-412a-8e34-e54937b509d3.png)
 
- При выборе "2" администратор перейдёт в режим CRUD.

![image](https://user-images.githubusercontent.com/77012251/235623118-eeb11fbc-1a7e-4b1c-83a6-41de976d0179.png)

## Режим CRUD

**(Для разных таблиц изменяется лишь количество данных для ввода (У тестов - идентификатор и тема теста, у вопросов - идентификатор, текст вопроса и идентификатор теста, у ответов - идентификатор, текст ответа, является ли ответ верным и идентификатор вопроса), но основной алгоритм работы с CRUD однотипен. Поэтому рассмотри работу с таблице questions)**

- При неверном вводе таблицы или типа операции пользователя попросят ввести данные ещё раз.

![image](https://user-images.githubusercontent.com/77012251/235624337-3b3a4db5-04da-49b0-bcc0-e36726f1a90f.png)

- Режим C:

![image](https://user-images.githubusercontent.com/77012251/235624631-7bffdc0d-1aa2-4c92-b6a0-52f7fd55eefa.png)

- Режим R:

![image](https://user-images.githubusercontent.com/77012251/235624754-50094335-cb67-4881-b49d-21156b6b5d3f.png)

- Режим U:

![image](https://user-images.githubusercontent.com/77012251/235624976-ddb308f7-1c88-4092-8146-3e1a55f4bf75.png)

- Режим D:

![image](https://user-images.githubusercontent.com/77012251/235625364-b310abed-7338-4cc5-a4d8-4289aeff64dc.png)

Не забываем про целостности БД! Удалять вопрос можно, только если для него нет ответов. Иначе сначала необходимо удалить все ответы, указывающие на него.

- Режим all :

![image](https://user-images.githubusercontent.com/77012251/235625648-d97c022a-37e8-43e4-b455-ba6dc5d03a34.png)

---

Во всех основных меню при выборе варианта, которого нет в списке, пользователь вернётся к этому меню.
![image](https://user-images.githubusercontent.com/77012251/235625812-61ec8829-c654-4ff4-9e82-178b9d786fb8.png)
![image](https://user-images.githubusercontent.com/77012251/235625971-5aa41699-3989-4568-bf1a-e5da27122110.png)
![image](https://user-images.githubusercontent.com/77012251/235626063-cd089f7f-c667-4cef-9bd1-8df84482398a.png)
![image](https://user-images.githubusercontent.com/77012251/235626095-4904f0f6-66ef-4299-bf2a-87ac3af15239.png)
